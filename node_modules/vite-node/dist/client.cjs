'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var module$1 = require('module');
var url = require('url');
var vm = require('vm');
var pathe = require('pathe');
var mlly = require('mlly');
var utils = require('./utils.cjs');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}

var vm__default = /*#__PURE__*/_interopDefaultLegacy(vm);

const DEFAULT_REQUEST_STUBS = {
  "/@vite/client": {
    injectQuery: (id) => id,
    createHotContext() {
      return {
        accept: () => {
        },
        prune: () => {
        },
        dispose: () => {
        },
        decline: () => {
        },
        invalidate: () => {
        },
        on: () => {
        }
      };
    },
    updateStyle() {
    }
  }
};
class ModuleCacheMap extends Map {
  normalizePath(fsPath) {
    return fsPath.replace(/\\/g, "/").replace(/^\/@fs\//, "/").replace(/^file:\//, "/").replace(/^\/+/, "/");
  }
  set(fsPath, mod) {
    fsPath = this.normalizePath(fsPath);
    if (!super.has(fsPath))
      super.set(fsPath, mod);
    else
      Object.assign(super.get(fsPath), mod);
    return this;
  }
  get(fsPath) {
    fsPath = this.normalizePath(fsPath);
    return super.get(fsPath);
  }
  delete(fsPath) {
    fsPath = this.normalizePath(fsPath);
    return super.delete(fsPath);
  }
}
class ViteNodeRunner {
  constructor(options) {
    this.options = options;
    this.root = options.root || process.cwd();
    this.moduleCache = options.moduleCache || new ModuleCacheMap();
  }
  async executeFile(file) {
    return await this.cachedRequest(`/@fs/${utils.slash(pathe.resolve(file))}`, []);
  }
  async executeId(id) {
    return await this.cachedRequest(id, []);
  }
  async cachedRequest(rawId, callstack) {
    var _a, _b;
    const id = utils.normalizeId(rawId, this.options.base);
    const fsPath = utils.toFilePath(id, this.root);
    if ((_a = this.moduleCache.get(fsPath)) == null ? void 0 : _a.promise)
      return (_b = this.moduleCache.get(fsPath)) == null ? void 0 : _b.promise;
    const promise = this.directRequest(id, fsPath, callstack);
    this.moduleCache.set(fsPath, { promise });
    return await promise;
  }
  async directRequest(id, fsPath, callstack) {
    callstack = [...callstack, id];
    const request = async (dep) => {
      var _a, _b;
      if (this.options.resolveId && this.shouldResolveId(dep)) {
        const resolvedDep = await this.options.resolveId(dep, id);
        dep = ((_a = resolvedDep == null ? void 0 : resolvedDep.id) == null ? void 0 : _a.replace(this.root, "")) || dep;
      }
      if (callstack.includes(dep)) {
        if (!((_b = this.moduleCache.get(dep)) == null ? void 0 : _b.exports))
          throw new Error(`[vite-node] Circular dependency detected
Stack:
${[...callstack, dep].reverse().map((p) => `- ${p}`).join("\n")}`);
        return this.moduleCache.get(dep).exports;
      }
      return this.cachedRequest(dep, callstack);
    };
    const requestStubs = this.options.requestStubs || DEFAULT_REQUEST_STUBS;
    if (id in requestStubs)
      return requestStubs[id];
    const { code: transformed, externalize } = await this.options.fetchModule(id);
    if (externalize) {
      const mod = await this.interopedImport(externalize);
      this.moduleCache.set(fsPath, { exports: mod });
      return mod;
    }
    if (transformed == null)
      throw new Error(`[vite-node] Failed to load ${id}`);
    const url$1 = url.pathToFileURL(fsPath).href;
    const exports = /* @__PURE__ */ Object.create(null);
    exports[Symbol.toStringTag] = "Module";
    this.moduleCache.set(id, { code: transformed, exports });
    const __filename = url.fileURLToPath(url$1);
    const moduleProxy = {
      set exports(value) {
        exportAll(exports, value);
        exports.default = value;
      },
      get exports() {
        return exports.default;
      }
    };
    const context = this.prepareContext({
      __vite_ssr_import__: request,
      __vite_ssr_dynamic_import__: request,
      __vite_ssr_exports__: exports,
      __vite_ssr_exportAll__: (obj) => exportAll(exports, obj),
      __vite_ssr_import_meta__: { url: url$1 },
      require: module$1.createRequire(url$1),
      exports,
      module: moduleProxy,
      __filename,
      __dirname: pathe.dirname(__filename)
    });
    const fn = vm__default["default"].runInThisContext(`'use strict';async (${Object.keys(context).join(",")})=>{{${transformed}
}}`, {
      filename: fsPath,
      lineOffset: 0
    });
    await fn(...Object.values(context));
    return exports;
  }
  prepareContext(context) {
    return context;
  }
  shouldResolveId(dep) {
    if (mlly.isNodeBuiltin(dep) || dep in (this.options.requestStubs || DEFAULT_REQUEST_STUBS))
      return false;
    return !pathe.isAbsolute(dep) || !pathe.extname(dep);
  }
  shouldInterop(path, mod) {
    if (this.options.interopDefault === false)
      return false;
    return !path.endsWith(".mjs") && "default" in mod;
  }
  async interopedImport(path) {
    const mod = await (function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(path);
    if (this.shouldInterop(path, mod)) {
      const tryDefault = this.hasNestedDefault(mod);
      return new Proxy(mod, {
        get: proxyMethod("get", tryDefault),
        set: proxyMethod("set", tryDefault),
        has: proxyMethod("has", tryDefault),
        deleteProperty: proxyMethod("deleteProperty", tryDefault)
      });
    }
    return mod;
  }
  hasNestedDefault(target) {
    return "__esModule" in target && target.__esModule && "default" in target.default;
  }
}
function proxyMethod(name, tryDefault) {
  return function(target, key, ...args) {
    const result = Reflect[name](target, key, ...args);
    if (utils.isPrimitive(target.default))
      return result;
    if (tryDefault && key === "default" || typeof result === "undefined")
      return Reflect[name](target.default, key, ...args);
    return result;
  };
}
function exportAll(exports, sourceModule) {
  for (const key in sourceModule) {
    if (key !== "default") {
      try {
        Object.defineProperty(exports, key, {
          enumerable: true,
          configurable: true,
          get() {
            return sourceModule[key];
          }
        });
      } catch (_err) {
      }
    }
  }
}

exports.DEFAULT_REQUEST_STUBS = DEFAULT_REQUEST_STUBS;
exports.ModuleCacheMap = ModuleCacheMap;
exports.ViteNodeRunner = ViteNodeRunner;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmNqcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVSZXF1aXJlIH0gZnJvbSAnbW9kdWxlJ1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCwgcGF0aFRvRmlsZVVSTCB9IGZyb20gJ3VybCdcbmltcG9ydCB2bSBmcm9tICd2bSdcbmltcG9ydCB7IGRpcm5hbWUsIGV4dG5hbWUsIGlzQWJzb2x1dGUsIHJlc29sdmUgfSBmcm9tICdwYXRoZSdcbmltcG9ydCB7IGlzTm9kZUJ1aWx0aW4gfSBmcm9tICdtbGx5J1xuaW1wb3J0IHsgaXNQcmltaXRpdmUsIG5vcm1hbGl6ZUlkLCBzbGFzaCwgdG9GaWxlUGF0aCB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgdHlwZSB7IE1vZHVsZUNhY2hlLCBWaXRlTm9kZVJ1bm5lck9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVFVRVNUX1NUVUJTID0ge1xuICAnL0B2aXRlL2NsaWVudCc6IHtcbiAgICBpbmplY3RRdWVyeTogKGlkOiBzdHJpbmcpID0+IGlkLFxuICAgIGNyZWF0ZUhvdENvbnRleHQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2NlcHQ6ICgpID0+IHt9LFxuICAgICAgICBwcnVuZTogKCkgPT4ge30sXG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IHt9LFxuICAgICAgICBkZWNsaW5lOiAoKSA9PiB7fSxcbiAgICAgICAgaW52YWxpZGF0ZTogKCkgPT4ge30sXG4gICAgICAgIG9uOiAoKSA9PiB7fSxcbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZVN0eWxlKCkge30sXG4gIH0sXG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bGVDYWNoZU1hcCBleHRlbmRzIE1hcDxzdHJpbmcsIE1vZHVsZUNhY2hlPiB7XG4gIG5vcm1hbGl6ZVBhdGgoZnNQYXRoOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gZnNQYXRoXG4gICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpXG4gICAgICAucmVwbGFjZSgvXlxcL0Bmc1xcLy8sICcvJylcbiAgICAgIC5yZXBsYWNlKC9eZmlsZTpcXC8vLCAnLycpXG4gICAgICAucmVwbGFjZSgvXlxcLysvLCAnLycpXG4gIH1cblxuICBzZXQoZnNQYXRoOiBzdHJpbmcsIG1vZDogUGFydGlhbDxNb2R1bGVDYWNoZT4pIHtcbiAgICBmc1BhdGggPSB0aGlzLm5vcm1hbGl6ZVBhdGgoZnNQYXRoKVxuICAgIGlmICghc3VwZXIuaGFzKGZzUGF0aCkpXG4gICAgICBzdXBlci5zZXQoZnNQYXRoLCBtb2QpXG4gICAgZWxzZVxuICAgICAgT2JqZWN0LmFzc2lnbihzdXBlci5nZXQoZnNQYXRoKSwgbW9kKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBnZXQoZnNQYXRoOiBzdHJpbmcpIHtcbiAgICBmc1BhdGggPSB0aGlzLm5vcm1hbGl6ZVBhdGgoZnNQYXRoKVxuICAgIHJldHVybiBzdXBlci5nZXQoZnNQYXRoKVxuICB9XG5cbiAgZGVsZXRlKGZzUGF0aDogc3RyaW5nKSB7XG4gICAgZnNQYXRoID0gdGhpcy5ub3JtYWxpemVQYXRoKGZzUGF0aClcbiAgICByZXR1cm4gc3VwZXIuZGVsZXRlKGZzUGF0aClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVml0ZU5vZGVSdW5uZXIge1xuICByb290OiBzdHJpbmdcblxuICAvKipcbiAgICogSG9sZHMgdGhlIGNhY2hlIG9mIG1vZHVsZXNcbiAgICogS2V5cyBvZiB0aGUgbWFwIGFyZSBmaWxlcGF0aHMsIG9yIHBsYWluIHBhY2thZ2UgbmFtZXNcbiAgICovXG4gIG1vZHVsZUNhY2hlOiBNb2R1bGVDYWNoZU1hcFxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBvcHRpb25zOiBWaXRlTm9kZVJ1bm5lck9wdGlvbnMpIHtcbiAgICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgcHJvY2Vzcy5jd2QoKVxuICAgIHRoaXMubW9kdWxlQ2FjaGUgPSBvcHRpb25zLm1vZHVsZUNhY2hlIHx8IG5ldyBNb2R1bGVDYWNoZU1hcCgpXG4gIH1cblxuICBhc3luYyBleGVjdXRlRmlsZShmaWxlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jYWNoZWRSZXF1ZXN0KGAvQGZzLyR7c2xhc2gocmVzb2x2ZShmaWxlKSl9YCwgW10pXG4gIH1cblxuICBhc3luYyBleGVjdXRlSWQoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNhY2hlZFJlcXVlc3QoaWQsIFtdKVxuICB9XG5cbiAgYXN5bmMgY2FjaGVkUmVxdWVzdChyYXdJZDogc3RyaW5nLCBjYWxsc3RhY2s6IHN0cmluZ1tdKSB7XG4gICAgY29uc3QgaWQgPSBub3JtYWxpemVJZChyYXdJZCwgdGhpcy5vcHRpb25zLmJhc2UpXG4gICAgY29uc3QgZnNQYXRoID0gdG9GaWxlUGF0aChpZCwgdGhpcy5yb290KVxuXG4gICAgaWYgKHRoaXMubW9kdWxlQ2FjaGUuZ2V0KGZzUGF0aCk/LnByb21pc2UpXG4gICAgICByZXR1cm4gdGhpcy5tb2R1bGVDYWNoZS5nZXQoZnNQYXRoKT8ucHJvbWlzZVxuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuZGlyZWN0UmVxdWVzdChpZCwgZnNQYXRoLCBjYWxsc3RhY2spXG4gICAgdGhpcy5tb2R1bGVDYWNoZS5zZXQoZnNQYXRoLCB7IHByb21pc2UgfSlcblxuICAgIHJldHVybiBhd2FpdCBwcm9taXNlXG4gIH1cblxuICBhc3luYyBkaXJlY3RSZXF1ZXN0KGlkOiBzdHJpbmcsIGZzUGF0aDogc3RyaW5nLCBjYWxsc3RhY2s6IHN0cmluZ1tdKSB7XG4gICAgY2FsbHN0YWNrID0gWy4uLmNhbGxzdGFjaywgaWRdXG4gICAgY29uc3QgcmVxdWVzdCA9IGFzeW5jKGRlcDogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBwcm9iYWJseSBtZWFucyBpdCB3YXMgcGFzc2VkIGFzIHZhcmlhYmxlXG4gICAgICAvLyBhbmQgd2Fzbid0IHRyYW5zZm9ybWVkIGJ5IFZpdGVcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzb2x2ZUlkICYmIHRoaXMuc2hvdWxkUmVzb2x2ZUlkKGRlcCkpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWREZXAgPSBhd2FpdCB0aGlzLm9wdGlvbnMucmVzb2x2ZUlkKGRlcCwgaWQpXG4gICAgICAgIGRlcCA9IHJlc29sdmVkRGVwPy5pZD8ucmVwbGFjZSh0aGlzLnJvb3QsICcnKSB8fCBkZXBcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxzdGFjay5pbmNsdWRlcyhkZXApKSB7XG4gICAgICAgIGlmICghdGhpcy5tb2R1bGVDYWNoZS5nZXQoZGVwKT8uZXhwb3J0cylcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFt2aXRlLW5vZGVdIENpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWRcXG5TdGFjazpcXG4ke1suLi5jYWxsc3RhY2ssIGRlcF0ucmV2ZXJzZSgpLm1hcChwID0+IGAtICR7cH1gKS5qb2luKCdcXG4nKX1gKVxuICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGVDYWNoZS5nZXQoZGVwKSEuZXhwb3J0c1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkUmVxdWVzdChkZXAsIGNhbGxzdGFjaylcbiAgICB9XG5cbiAgICBjb25zdCByZXF1ZXN0U3R1YnMgPSB0aGlzLm9wdGlvbnMucmVxdWVzdFN0dWJzIHx8IERFRkFVTFRfUkVRVUVTVF9TVFVCU1xuICAgIGlmIChpZCBpbiByZXF1ZXN0U3R1YnMpXG4gICAgICByZXR1cm4gcmVxdWVzdFN0dWJzW2lkXVxuXG4gICAgY29uc3QgeyBjb2RlOiB0cmFuc2Zvcm1lZCwgZXh0ZXJuYWxpemUgfSA9IGF3YWl0IHRoaXMub3B0aW9ucy5mZXRjaE1vZHVsZShpZClcbiAgICBpZiAoZXh0ZXJuYWxpemUpIHtcbiAgICAgIGNvbnN0IG1vZCA9IGF3YWl0IHRoaXMuaW50ZXJvcGVkSW1wb3J0KGV4dGVybmFsaXplKVxuICAgICAgdGhpcy5tb2R1bGVDYWNoZS5zZXQoZnNQYXRoLCB7IGV4cG9ydHM6IG1vZCB9KVxuICAgICAgcmV0dXJuIG1vZFxuICAgIH1cblxuICAgIGlmICh0cmFuc2Zvcm1lZCA9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBbdml0ZS1ub2RlXSBGYWlsZWQgdG8gbG9hZCAke2lkfWApXG5cbiAgICAvLyBkaXNhbWJpZ3VhdGUgdGhlIGA8VU5JVD46L2Agb24gd2luZG93czogc2VlIG5vZGVqcy9ub2RlIzMxNzEwXG4gICAgY29uc3QgdXJsID0gcGF0aFRvRmlsZVVSTChmc1BhdGgpLmhyZWZcbiAgICBjb25zdCBleHBvcnRzOiBhbnkgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgZXhwb3J0c1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ01vZHVsZSdcblxuICAgIHRoaXMubW9kdWxlQ2FjaGUuc2V0KGlkLCB7IGNvZGU6IHRyYW5zZm9ybWVkLCBleHBvcnRzIH0pXG5cbiAgICBjb25zdCBfX2ZpbGVuYW1lID0gZmlsZVVSTFRvUGF0aCh1cmwpXG4gICAgY29uc3QgbW9kdWxlUHJveHkgPSB7XG4gICAgICBzZXQgZXhwb3J0cyh2YWx1ZSkge1xuICAgICAgICBleHBvcnRBbGwoZXhwb3J0cywgdmFsdWUpXG4gICAgICAgIGV4cG9ydHMuZGVmYXVsdCA9IHZhbHVlXG4gICAgICB9LFxuICAgICAgZ2V0IGV4cG9ydHMoKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLmRlZmF1bHRcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgLy8gQmUgY2FyZWZ1bCB3aGVuIGNoYW5naW5nIHRoaXNcbiAgICAvLyBjaGFuZ2luZyBjb250ZXh0IHdpbGwgY2hhbmdlIGFtb3VudCBvZiBjb2RlIGFkZGVkIG9uIGxpbmUgOjExNCAodm0ucnVuSW5UaGlzQ29udGV4dClcbiAgICAvLyB0aGlzIG1lc3NlcyB1cCBzb3VyY2VtYXBzIGZvciBjb3ZlcmFnZVxuICAgIC8vIGFkanVzdCBgb2Zmc2V0YCB2YXJpYWJsZSBpbiBwYWNrYWdlcy92aXRlc3Qvc3JjL2ludGVncmF0aW9ucy9jb3ZlcmFnZS50cyNMMTAwIGlmIHlvdSBkbyBjaGFuZ2UgdGhpc1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnByZXBhcmVDb250ZXh0KHtcbiAgICAgIC8vIGVzbSB0cmFuc2Zvcm1lZCBieSBWaXRlXG4gICAgICBfX3ZpdGVfc3NyX2ltcG9ydF9fOiByZXF1ZXN0LFxuICAgICAgX192aXRlX3Nzcl9keW5hbWljX2ltcG9ydF9fOiByZXF1ZXN0LFxuICAgICAgX192aXRlX3Nzcl9leHBvcnRzX186IGV4cG9ydHMsXG4gICAgICBfX3ZpdGVfc3NyX2V4cG9ydEFsbF9fOiAob2JqOiBhbnkpID0+IGV4cG9ydEFsbChleHBvcnRzLCBvYmopLFxuICAgICAgX192aXRlX3Nzcl9pbXBvcnRfbWV0YV9fOiB7IHVybCB9LFxuXG4gICAgICAvLyBjanMgY29tcGFjdFxuICAgICAgcmVxdWlyZTogY3JlYXRlUmVxdWlyZSh1cmwpLFxuICAgICAgZXhwb3J0cyxcbiAgICAgIG1vZHVsZTogbW9kdWxlUHJveHksXG4gICAgICBfX2ZpbGVuYW1lLFxuICAgICAgX19kaXJuYW1lOiBkaXJuYW1lKF9fZmlsZW5hbWUpLFxuICAgIH0pXG5cbiAgICAvLyBhZGQgJ3VzZSBzdHJpY3QnIHNpbmNlIEVTTSBlbmFibGVzIGl0IGJ5IGRlZmF1bHRcbiAgICBjb25zdCBmbiA9IHZtLnJ1bkluVGhpc0NvbnRleHQoYCd1c2Ugc3RyaWN0Jzthc3luYyAoJHtPYmplY3Qua2V5cyhjb250ZXh0KS5qb2luKCcsJyl9KT0+e3ske3RyYW5zZm9ybWVkfVxcbn19YCwge1xuICAgICAgZmlsZW5hbWU6IGZzUGF0aCxcbiAgICAgIGxpbmVPZmZzZXQ6IDAsXG4gICAgfSlcblxuICAgIGF3YWl0IGZuKC4uLk9iamVjdC52YWx1ZXMoY29udGV4dCkpXG5cbiAgICByZXR1cm4gZXhwb3J0c1xuICB9XG5cbiAgcHJlcGFyZUNvbnRleHQoY29udGV4dDogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgIHJldHVybiBjb250ZXh0XG4gIH1cblxuICBzaG91bGRSZXNvbHZlSWQoZGVwOiBzdHJpbmcpIHtcbiAgICBpZiAoaXNOb2RlQnVpbHRpbihkZXApIHx8IGRlcCBpbiAodGhpcy5vcHRpb25zLnJlcXVlc3RTdHVicyB8fCBERUZBVUxUX1JFUVVFU1RfU1RVQlMpKVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICByZXR1cm4gIWlzQWJzb2x1dGUoZGVwKSB8fCAhZXh0bmFtZShkZXApXG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIGlmIGEgbW9kdWxlIHNob3VsZCBiZSBpbnRlcm9wLWVkXG4gICAqIFRoaXMgZnVuY3Rpb24gbW9zdGx5IGZvciB0aGUgYWJpbGl0eSB0byBvdmVycmlkZSBieSBzdWJjbGFzc1xuICAgKi9cbiAgc2hvdWxkSW50ZXJvcChwYXRoOiBzdHJpbmcsIG1vZDogYW55KSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcm9wRGVmYXVsdCA9PT0gZmFsc2UpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICAvLyBuZXZlciBpbnRlcm9wIEVTTSBtb2R1bGVzXG4gICAgLy8gVE9ETzogc2hvdWxkIGFsc28gc2tpcCBmb3IgYC5qc2Agd2l0aCBgdHlwZT1cIm1vZHVsZVwiYFxuICAgIHJldHVybiAhcGF0aC5lbmRzV2l0aCgnLm1qcycpICYmICdkZWZhdWx0JyBpbiBtb2RcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBvcnQgYSBtb2R1bGUgYW5kIGludGVyb3AgaXRcbiAgICovXG4gIGFzeW5jIGludGVyb3BlZEltcG9ydChwYXRoOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtb2QgPSBhd2FpdCBpbXBvcnQocGF0aClcblxuICAgIGlmICh0aGlzLnNob3VsZEludGVyb3AocGF0aCwgbW9kKSkge1xuICAgICAgY29uc3QgdHJ5RGVmYXVsdCA9IHRoaXMuaGFzTmVzdGVkRGVmYXVsdChtb2QpXG4gICAgICByZXR1cm4gbmV3IFByb3h5KG1vZCwge1xuICAgICAgICBnZXQ6IHByb3h5TWV0aG9kKCdnZXQnLCB0cnlEZWZhdWx0KSxcbiAgICAgICAgc2V0OiBwcm94eU1ldGhvZCgnc2V0JywgdHJ5RGVmYXVsdCksXG4gICAgICAgIGhhczogcHJveHlNZXRob2QoJ2hhcycsIHRyeURlZmF1bHQpLFxuICAgICAgICBkZWxldGVQcm9wZXJ0eTogcHJveHlNZXRob2QoJ2RlbGV0ZVByb3BlcnR5JywgdHJ5RGVmYXVsdCksXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBtb2RcbiAgfVxuXG4gIGhhc05lc3RlZERlZmF1bHQodGFyZ2V0OiBhbnkpIHtcbiAgICByZXR1cm4gJ19fZXNNb2R1bGUnIGluIHRhcmdldCAmJiB0YXJnZXQuX19lc01vZHVsZSAmJiAnZGVmYXVsdCcgaW4gdGFyZ2V0LmRlZmF1bHRcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm94eU1ldGhvZChuYW1lOiAnZ2V0JyB8ICdzZXQnIHwgJ2hhcycgfCAnZGVsZXRlUHJvcGVydHknLCB0cnlEZWZhdWx0OiBib29sZWFuKSB7XG4gIHJldHVybiBmdW5jdGlvbih0YXJnZXQ6IGFueSwga2V5OiBzdHJpbmcgfCBzeW1ib2wsIC4uLmFyZ3M6IFthbnk/LCBhbnk/XSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3RbbmFtZV0odGFyZ2V0LCBrZXksIC4uLmFyZ3MpXG4gICAgaWYgKGlzUHJpbWl0aXZlKHRhcmdldC5kZWZhdWx0KSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICBpZiAoKHRyeURlZmF1bHQgJiYga2V5ID09PSAnZGVmYXVsdCcpIHx8IHR5cGVvZiByZXN1bHQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgcmV0dXJuIFJlZmxlY3RbbmFtZV0odGFyZ2V0LmRlZmF1bHQsIGtleSwgLi4uYXJncylcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwb3J0QWxsKGV4cG9ydHM6IGFueSwgc291cmNlTW9kdWxlOiBhbnkpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZU1vZHVsZSkge1xuICAgIGlmIChrZXkgIT09ICdkZWZhdWx0Jykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGdldCgpIHsgcmV0dXJuIHNvdXJjZU1vZHVsZVtrZXldIH0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBjYXRjaCAoX2VycikgeyB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsic2xhc2giLCJyZXNvbHZlIiwibm9ybWFsaXplSWQiLCJ0b0ZpbGVQYXRoIiwidXJsIiwicGF0aFRvRmlsZVVSTCIsImZpbGVVUkxUb1BhdGgiLCJjcmVhdGVSZXF1aXJlIiwiZGlybmFtZSIsInZtIiwiaXNOb2RlQnVpbHRpbiIsImlzQWJzb2x1dGUiLCJleHRuYW1lIiwiaXNQcmltaXRpdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFPLE1BQU0scUJBQXdCLEdBQUE7QUFBQSxFQUNuQyxlQUFpQixFQUFBO0FBQUEsSUFDZixXQUFBLEVBQWEsQ0FBQyxFQUFlLEtBQUEsRUFBQTtBQUFBLElBQzdCLGdCQUFtQixHQUFBO0FBQ2pCLE1BQU8sT0FBQTtBQUFBLFFBQ0wsUUFBUSxNQUFNO0FBQUEsU0FBQztBQUFBLFFBQ2YsT0FBTyxNQUFNO0FBQUEsU0FBQztBQUFBLFFBQ2QsU0FBUyxNQUFNO0FBQUEsU0FBQztBQUFBLFFBQ2hCLFNBQVMsTUFBTTtBQUFBLFNBQUM7QUFBQSxRQUNoQixZQUFZLE1BQU07QUFBQSxTQUFDO0FBQUEsUUFDbkIsSUFBSSxNQUFNO0FBQUEsU0FBQztBQUFBLE9BQ2IsQ0FBQTtBQUFBLEtBQ0Y7QUFBQSxJQUNBLFdBQWMsR0FBQTtBQUFBLEtBQUM7QUFBQSxHQUNqQjtBQUNGLEVBQUE7QUFFTyxNQUFNLHVCQUF1QixHQUF5QixDQUFBO0FBQUEsRUFDM0QsY0FBYyxNQUFnQixFQUFBO0FBQzVCLElBQUEsT0FBTyxNQUNKLENBQUEsT0FBQSxDQUFRLEtBQU8sRUFBQSxHQUFHLEVBQ2xCLE9BQVEsQ0FBQSxVQUFBLEVBQVksR0FBRyxDQUFBLENBQ3ZCLFFBQVEsVUFBWSxFQUFBLEdBQUcsQ0FDdkIsQ0FBQSxPQUFBLENBQVEsUUFBUSxHQUFHLENBQUEsQ0FBQTtBQUFBLEdBQ3hCO0FBQUEsRUFFQSxHQUFBLENBQUksUUFBZ0IsR0FBMkIsRUFBQTtBQUM3QyxJQUFTLE1BQUEsR0FBQSxJQUFBLENBQUssY0FBYyxNQUFNLENBQUEsQ0FBQTtBQUNsQyxJQUFJLElBQUEsQ0FBQyxLQUFNLENBQUEsR0FBQSxDQUFJLE1BQU0sQ0FBQTtBQUNuQixNQUFNLEtBQUEsQ0FBQSxHQUFBLENBQUksUUFBUSxHQUFHLENBQUEsQ0FBQTtBQUFBO0FBRXJCLE1BQUEsTUFBQSxDQUFPLE1BQU8sQ0FBQSxLQUFBLENBQU0sR0FBSSxDQUFBLE1BQU0sR0FBRyxHQUFHLENBQUEsQ0FBQTtBQUN0QyxJQUFPLE9BQUEsSUFBQSxDQUFBO0FBQUEsR0FDVDtBQUFBLEVBRUEsSUFBSSxNQUFnQixFQUFBO0FBQ2xCLElBQVMsTUFBQSxHQUFBLElBQUEsQ0FBSyxjQUFjLE1BQU0sQ0FBQSxDQUFBO0FBQ2xDLElBQU8sT0FBQSxLQUFBLENBQU0sSUFBSSxNQUFNLENBQUEsQ0FBQTtBQUFBLEdBQ3pCO0FBQUEsRUFFQSxPQUFPLE1BQWdCLEVBQUE7QUFDckIsSUFBUyxNQUFBLEdBQUEsSUFBQSxDQUFLLGNBQWMsTUFBTSxDQUFBLENBQUE7QUFDbEMsSUFBTyxPQUFBLEtBQUEsQ0FBTSxPQUFPLE1BQU0sQ0FBQSxDQUFBO0FBQUEsR0FDNUI7QUFDRixDQUFBO0FBRU8sTUFBTSxjQUFlLENBQUE7QUFBQSxFQVMxQixZQUFtQixPQUFnQyxFQUFBO0FBQWhDLElBQUEsSUFBQSxDQUFBLE9BQUEsR0FBQSxPQUFBLENBQUE7QUFDakIsSUFBQSxJQUFBLENBQUssSUFBTyxHQUFBLE9BQUEsQ0FBUSxJQUFRLElBQUEsT0FBQSxDQUFRLEdBQUksRUFBQSxDQUFBO0FBQ3hDLElBQUEsSUFBQSxDQUFLLFdBQWMsR0FBQSxPQUFBLENBQVEsV0FBZSxJQUFBLElBQUksY0FBZSxFQUFBLENBQUE7QUFBQSxHQUMvRDtBQUFBLEVBQUEsTUFFTSxZQUFZLElBQWMsRUFBQTtBQUM5QixJQUFPLE9BQUEsTUFBTSxJQUFLLENBQUEsYUFBQSxDQUFjLENBQVEsS0FBQSxFQUFBQSxXQUFBLENBQU1DLGNBQVEsSUFBSSxDQUFDLENBQUssQ0FBQSxDQUFBLEVBQUEsRUFBRSxDQUFBLENBQUE7QUFBQSxHQUNwRTtBQUFBLEVBQUEsTUFFTSxVQUFVLEVBQVksRUFBQTtBQUMxQixJQUFBLE9BQU8sTUFBTSxJQUFBLENBQUssYUFBYyxDQUFBLEVBQUEsRUFBSSxFQUFFLENBQUEsQ0FBQTtBQUFBLEdBQ3hDO0FBQUEsRUFFTSxNQUFBLGFBQUEsQ0FBYyxPQUFlLFNBQXFCLEVBQUE7QUE1RTFELElBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBO0FBNkVJLElBQUEsTUFBTSxFQUFLLEdBQUFDLGlCQUFBLENBQVksS0FBTyxFQUFBLElBQUEsQ0FBSyxRQUFRLElBQUksQ0FBQSxDQUFBO0FBQy9DLElBQUEsTUFBTSxNQUFTLEdBQUFDLGdCQUFBLENBQVcsRUFBSSxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUEsQ0FBQTtBQUV2QyxJQUFBLElBQUksQ0FBSyxFQUFBLEdBQUEsSUFBQSxDQUFBLFdBQUEsQ0FBWSxHQUFJLENBQUEsTUFBTSxNQUEzQixJQUE4QixHQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxPQUFBO0FBQ2hDLE1BQUEsT0FBTyxDQUFLLEVBQUEsR0FBQSxJQUFBLENBQUEsV0FBQSxDQUFZLEdBQUksQ0FBQSxNQUFNLE1BQTNCLElBQThCLEdBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLE9BQUEsQ0FBQTtBQUV2QyxJQUFBLE1BQU0sT0FBVSxHQUFBLElBQUEsQ0FBSyxhQUFjLENBQUEsRUFBQSxFQUFJLFFBQVEsU0FBUyxDQUFBLENBQUE7QUFDeEQsSUFBQSxJQUFBLENBQUssV0FBWSxDQUFBLEdBQUEsQ0FBSSxNQUFRLEVBQUEsRUFBRSxTQUFTLENBQUEsQ0FBQTtBQUV4QyxJQUFBLE9BQU8sTUFBTSxPQUFBLENBQUE7QUFBQSxHQUNmO0FBQUEsRUFFTSxNQUFBLGFBQUEsQ0FBYyxFQUFZLEVBQUEsTUFBQSxFQUFnQixTQUFxQixFQUFBO0FBQ25FLElBQVksU0FBQSxHQUFBLENBQUMsR0FBRyxTQUFBLEVBQVcsRUFBRSxDQUFBLENBQUE7QUFDN0IsSUFBTSxNQUFBLE9BQUEsR0FBVSxPQUFNLEdBQWdCLEtBQUE7QUEzRjFDLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBO0FBOEZNLE1BQUEsSUFBSSxLQUFLLE9BQVEsQ0FBQSxTQUFBLElBQWEsSUFBSyxDQUFBLGVBQUEsQ0FBZ0IsR0FBRyxDQUFHLEVBQUE7QUFDdkQsUUFBQSxNQUFNLGNBQWMsTUFBTSxJQUFBLENBQUssT0FBUSxDQUFBLFNBQUEsQ0FBVSxLQUFLLEVBQUUsQ0FBQSxDQUFBO0FBQ3hELFFBQUEsR0FBQSxHQUFNLGtEQUFhLEVBQWIsS0FBQSxJQUFBLEdBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFpQixPQUFRLENBQUEsSUFBQSxDQUFLLE1BQU0sRUFBTyxDQUFBLEtBQUEsR0FBQSxDQUFBO0FBQUEsT0FDbkQ7QUFFQSxNQUFJLElBQUEsU0FBQSxDQUFVLFFBQVMsQ0FBQSxHQUFHLENBQUcsRUFBQTtBQUMzQixRQUFBLElBQUksRUFBTSxDQUFBLEVBQUEsR0FBQSxJQUFBLENBQUEsV0FBQSxDQUFZLEdBQUksQ0FBQSxHQUFHLE1BQXhCLElBQTJCLEdBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLE9BQUEsQ0FBQTtBQUM5QixVQUFBLE1BQU0sSUFBSSxLQUFNLENBQUEsQ0FBQTtBQUFBO0FBQUEsRUFBcUQsQ0FBQyxHQUFHLFNBQVcsRUFBQSxHQUFHLEVBQUUsT0FBUSxFQUFBLENBQUUsR0FBSSxDQUFBLENBQUEsQ0FBQSxLQUFLLENBQUssRUFBQSxFQUFBLENBQUEsQ0FBQSxDQUFHLENBQUUsQ0FBQSxJQUFBLENBQUssSUFBSSxDQUFHLENBQUEsQ0FBQSxDQUFBLENBQUE7QUFDcEksUUFBQSxPQUFPLElBQUssQ0FBQSxXQUFBLENBQVksR0FBSSxDQUFBLEdBQUcsQ0FBRyxDQUFBLE9BQUEsQ0FBQTtBQUFBLE9BQ3BDO0FBQ0EsTUFBTyxPQUFBLElBQUEsQ0FBSyxhQUFjLENBQUEsR0FBQSxFQUFLLFNBQVMsQ0FBQSxDQUFBO0FBQUEsS0FDMUMsQ0FBQTtBQUVBLElBQU0sTUFBQSxZQUFBLEdBQWUsSUFBSyxDQUFBLE9BQUEsQ0FBUSxZQUFnQixJQUFBLHFCQUFBLENBQUE7QUFDbEQsSUFBQSxJQUFJLEVBQU0sSUFBQSxZQUFBO0FBQ1IsTUFBQSxPQUFPLFlBQWEsQ0FBQSxFQUFBLENBQUEsQ0FBQTtBQUV0QixJQUFNLE1BQUEsRUFBRSxNQUFNLFdBQWEsRUFBQSxXQUFBLEVBQUEsR0FBZ0IsTUFBTSxJQUFLLENBQUEsT0FBQSxDQUFRLFlBQVksRUFBRSxDQUFBLENBQUE7QUFDNUUsSUFBQSxJQUFJLFdBQWEsRUFBQTtBQUNmLE1BQUEsTUFBTSxHQUFNLEdBQUEsTUFBTSxJQUFLLENBQUEsZUFBQSxDQUFnQixXQUFXLENBQUEsQ0FBQTtBQUNsRCxNQUFBLElBQUEsQ0FBSyxZQUFZLEdBQUksQ0FBQSxNQUFBLEVBQVEsRUFBRSxPQUFBLEVBQVMsS0FBSyxDQUFBLENBQUE7QUFDN0MsTUFBTyxPQUFBLEdBQUEsQ0FBQTtBQUFBLEtBQ1Q7QUFFQSxJQUFBLElBQUksV0FBZSxJQUFBLElBQUE7QUFDakIsTUFBTSxNQUFBLElBQUksS0FBTSxDQUFBLENBQUEsMkJBQUEsRUFBOEIsRUFBSSxDQUFBLENBQUEsQ0FBQSxDQUFBO0FBR3BELElBQU0sTUFBQUMsS0FBQSxHQUFNQyxpQkFBYyxDQUFBLE1BQU0sQ0FBRSxDQUFBLElBQUEsQ0FBQTtBQUNsQyxJQUFNLE1BQUEsT0FBQSxtQkFBc0IsTUFBQSxDQUFBLE1BQUEsQ0FBTyxJQUFJLENBQUEsQ0FBQTtBQUN2QyxJQUFBLE9BQUEsQ0FBUSxPQUFPLFdBQWUsQ0FBQSxHQUFBLFFBQUEsQ0FBQTtBQUU5QixJQUFBLElBQUEsQ0FBSyxZQUFZLEdBQUksQ0FBQSxFQUFBLEVBQUksRUFBRSxJQUFNLEVBQUEsV0FBQSxFQUFhLFNBQVMsQ0FBQSxDQUFBO0FBRXZELElBQU0sTUFBQSxVQUFBLEdBQWFDLGtCQUFjRixLQUFHLENBQUEsQ0FBQTtBQUNwQyxJQUFBLE1BQU0sV0FBYyxHQUFBO0FBQUEsTUFBQSxJQUNkLFFBQVEsS0FBTyxFQUFBO0FBQ2pCLFFBQUEsU0FBQSxDQUFVLFNBQVMsS0FBSyxDQUFBLENBQUE7QUFDeEIsUUFBQSxPQUFBLENBQVEsT0FBVSxHQUFBLEtBQUEsQ0FBQTtBQUFBLE9BQ3BCO0FBQUEsTUFBQSxJQUNJLE9BQVUsR0FBQTtBQUNaLFFBQUEsT0FBTyxPQUFRLENBQUEsT0FBQSxDQUFBO0FBQUEsT0FDakI7QUFBQSxLQUNGLENBQUE7QUFNQSxJQUFNLE1BQUEsT0FBQSxHQUFVLEtBQUssY0FBZSxDQUFBO0FBQUEsTUFFbEMsbUJBQXFCLEVBQUEsT0FBQTtBQUFBLE1BQ3JCLDJCQUE2QixFQUFBLE9BQUE7QUFBQSxNQUM3QixvQkFBc0IsRUFBQSxPQUFBO0FBQUEsTUFDdEIsc0JBQXdCLEVBQUEsQ0FBQyxHQUFhLEtBQUEsU0FBQSxDQUFVLFNBQVMsR0FBRyxDQUFBO0FBQUEsTUFDNUQsd0JBQUEsRUFBMEIsT0FBRUEsS0FBSSxFQUFBO0FBQUEsTUFHaEMsT0FBQSxFQUFTRyx1QkFBY0gsS0FBRyxDQUFBO0FBQUEsTUFDMUIsT0FBQTtBQUFBLE1BQ0EsTUFBUSxFQUFBLFdBQUE7QUFBQSxNQUNSLFVBQUE7QUFBQSxNQUNBLFNBQUEsRUFBV0ksY0FBUSxVQUFVLENBQUE7QUFBQSxLQUM5QixDQUFBLENBQUE7QUFHRCxJQUFNLE1BQUEsRUFBQSxHQUFLQyxzQkFBRyxDQUFBLGdCQUFBLENBQWlCLENBQXVCLG9CQUFBLEVBQUEsTUFBQSxDQUFPLEtBQUssT0FBTyxDQUFBLENBQUUsSUFBSyxDQUFBLEdBQUcsQ0FBUyxDQUFBLEtBQUEsRUFBQSxXQUFBLENBQUE7QUFBQSxFQUFtQixDQUFBLEVBQUE7QUFBQSxNQUM3RyxRQUFVLEVBQUEsTUFBQTtBQUFBLE1BQ1YsVUFBWSxFQUFBLENBQUE7QUFBQSxLQUNiLENBQUEsQ0FBQTtBQUVELElBQUEsTUFBTSxFQUFHLENBQUEsR0FBRyxNQUFPLENBQUEsTUFBQSxDQUFPLE9BQU8sQ0FBQyxDQUFBLENBQUE7QUFFbEMsSUFBTyxPQUFBLE9BQUEsQ0FBQTtBQUFBLEdBQ1Q7QUFBQSxFQUVBLGVBQWUsT0FBOEIsRUFBQTtBQUMzQyxJQUFPLE9BQUEsT0FBQSxDQUFBO0FBQUEsR0FDVDtBQUFBLEVBRUEsZ0JBQWdCLEdBQWEsRUFBQTtBQUMzQixJQUFBLElBQUlDLG1CQUFjLEdBQUcsQ0FBQSxJQUFLLEdBQVEsS0FBQSxJQUFBLENBQUssUUFBUSxZQUFnQixJQUFBLHFCQUFBLENBQUE7QUFDN0QsTUFBTyxPQUFBLEtBQUEsQ0FBQTtBQUVULElBQUEsT0FBTyxDQUFDQyxnQkFBVyxDQUFBLEdBQUcsQ0FBSyxJQUFBLENBQUNDLGNBQVEsR0FBRyxDQUFBLENBQUE7QUFBQSxHQUN6QztBQUFBLEVBTUEsYUFBQSxDQUFjLE1BQWMsR0FBVSxFQUFBO0FBQ3BDLElBQUksSUFBQSxJQUFBLENBQUssUUFBUSxjQUFtQixLQUFBLEtBQUE7QUFDbEMsTUFBTyxPQUFBLEtBQUEsQ0FBQTtBQUdULElBQUEsT0FBTyxDQUFDLElBQUEsQ0FBSyxRQUFTLENBQUEsTUFBTSxLQUFLLFNBQWEsSUFBQSxHQUFBLENBQUE7QUFBQSxHQUNoRDtBQUFBLEVBQUEsTUFLTSxnQkFBZ0IsSUFBYyxFQUFBO0FBQ2xDLElBQU0sTUFBQSxHQUFBLEdBQU0sTUFBTSxzSEFBTyxJQUFBLENBQUEsQ0FBQTtBQUV6QixJQUFBLElBQUksSUFBSyxDQUFBLGFBQUEsQ0FBYyxJQUFNLEVBQUEsR0FBRyxDQUFHLEVBQUE7QUFDakMsTUFBTSxNQUFBLFVBQUEsR0FBYSxJQUFLLENBQUEsZ0JBQUEsQ0FBaUIsR0FBRyxDQUFBLENBQUE7QUFDNUMsTUFBTyxPQUFBLElBQUksTUFBTSxHQUFLLEVBQUE7QUFBQSxRQUNwQixHQUFBLEVBQUssV0FBWSxDQUFBLEtBQUEsRUFBTyxVQUFVLENBQUE7QUFBQSxRQUNsQyxHQUFBLEVBQUssV0FBWSxDQUFBLEtBQUEsRUFBTyxVQUFVLENBQUE7QUFBQSxRQUNsQyxHQUFBLEVBQUssV0FBWSxDQUFBLEtBQUEsRUFBTyxVQUFVLENBQUE7QUFBQSxRQUNsQyxjQUFBLEVBQWdCLFdBQVksQ0FBQSxnQkFBQSxFQUFrQixVQUFVLENBQUE7QUFBQSxPQUN6RCxDQUFBLENBQUE7QUFBQSxLQUNIO0FBRUEsSUFBTyxPQUFBLEdBQUEsQ0FBQTtBQUFBLEdBQ1Q7QUFBQSxFQUVBLGlCQUFpQixNQUFhLEVBQUE7QUFDNUIsSUFBQSxPQUFPLFlBQWdCLElBQUEsTUFBQSxJQUFVLE1BQU8sQ0FBQSxVQUFBLElBQWMsYUFBYSxNQUFPLENBQUEsT0FBQSxDQUFBO0FBQUEsR0FDNUU7QUFDRixDQUFBO0FBRUEsU0FBQSxXQUFBLENBQXFCLE1BQWdELFVBQXFCLEVBQUE7QUFDeEYsRUFBTyxPQUFBLFNBQVMsTUFBYSxFQUFBLEdBQUEsRUFBQSxHQUF5QixJQUFvQixFQUFBO0FBQ3hFLElBQUEsTUFBTSxTQUFTLE9BQVEsQ0FBQSxJQUFBLENBQUEsQ0FBTSxNQUFRLEVBQUEsR0FBQSxFQUFLLEdBQUcsSUFBSSxDQUFBLENBQUE7QUFDakQsSUFBSSxJQUFBQyxpQkFBQSxDQUFZLE9BQU8sT0FBTyxDQUFBO0FBQzVCLE1BQU8sT0FBQSxNQUFBLENBQUE7QUFDVCxJQUFBLElBQUssVUFBYyxJQUFBLEdBQUEsS0FBUSxTQUFjLElBQUEsT0FBTyxNQUFXLEtBQUEsV0FBQTtBQUN6RCxNQUFBLE9BQU8sUUFBUSxJQUFNLENBQUEsQ0FBQSxNQUFBLENBQU8sT0FBUyxFQUFBLEdBQUEsRUFBSyxHQUFHLElBQUksQ0FBQSxDQUFBO0FBQ25ELElBQU8sT0FBQSxNQUFBLENBQUE7QUFBQSxHQUNULENBQUE7QUFDRixDQUFBO0FBRUEsU0FBQSxTQUFBLENBQW1CLFNBQWMsWUFBbUIsRUFBQTtBQUVsRCxFQUFBLEtBQUEsTUFBVyxPQUFPLFlBQWMsRUFBQTtBQUM5QixJQUFBLElBQUksUUFBUSxTQUFXLEVBQUE7QUFDckIsTUFBSSxJQUFBO0FBQ0YsUUFBTyxNQUFBLENBQUEsY0FBQSxDQUFlLFNBQVMsR0FBSyxFQUFBO0FBQUEsVUFDbEMsVUFBWSxFQUFBLElBQUE7QUFBQSxVQUNaLFlBQWMsRUFBQSxJQUFBO0FBQUEsVUFDZCxHQUFNLEdBQUE7QUFBRSxZQUFBLE9BQU8sWUFBYSxDQUFBLEdBQUEsQ0FBQSxDQUFBO0FBQUEsV0FBSztBQUFBLFNBQ2xDLENBQUEsQ0FBQTtBQUFBLGVBRUksSUFBUCxFQUFBO0FBQUEsT0FBZTtBQUFBLEtBQ2pCO0FBQUEsR0FDRjtBQUNGOzs7Ozs7In0=
